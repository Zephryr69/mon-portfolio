/* Sidebar.css
   Effet 3D élégant : couches profondes, reflets subtils, hover 3D.
   Compatible light / dark via classes .sidebar.light / .sidebar.dark
*/

/* Conteneur principal (applique la perspective au parent si besoin) */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  width: 260px;
  height: 100vh;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  z-index: 1000;
  transform-style: preserve-3d;
  transition: transform 0.45s cubic-bezier(.2,.9,.3,1), box-shadow 0.45s ease;
  will-change: transform;
  /* léger mouvement initial pour la lisibilité 3D */
  transform: translateZ(0);
  border-top-right-radius: 14px;
  border-bottom-right-radius: 14px;
  overflow: hidden;
}

/* ======================
   LAYERS — pseudo-éléments pour profondeur
   ====================== */
.sidebar::before,
.sidebar::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  transform-origin: left center;
  transition: transform 0.45s cubic-bezier(.2,.9,.3,1), opacity 0.45s ease;
  z-index: 0;
}

/* couche arrière — très subtile, assombrit le fond */
.sidebar::before {
  background: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.02));
  transform: translateZ(-20px) scale(1.02);
  opacity: 0.9;
  border-top-right-radius: 14px;
  border-bottom-right-radius: 14px;
}

/* couche de reflection / specular */
.sidebar::after {
  background: linear-gradient(120deg, rgba(255,255,255,0.025), rgba(0,0,0,0));
  mix-blend-mode: overlay;
  transform: translateZ(10px) scale(1);
  opacity: 0.7;
  border-top-right-radius: 14px;
  border-bottom-right-radius: 14px;
}

/* ======================
   THEMES
   ====================== */
/* Light (glass-like) */
.sidebar.light {
  background: linear-gradient(135deg, rgba(255,255,255,0.88), rgba(245,245,250,0.82));
  color: #111;
  box-shadow:
    0 6px 18px rgba(20,20,30,0.06),
    0 30px 60px rgba(20,20,30,0.06);
}

/* Dark (deep 3D) */
.sidebar.dark {
  background: linear-gradient(145deg, #0f1113 0%, #141416 60%);
  color: #eee;
  box-shadow:
    0 12px 30px rgba(0,0,0,0.5),
    0 40px 80px rgba(0,0,0,0.45);
}

/* ======================
   HEADER
   ====================== */
.sidebar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  z-index: 2; /* devant les couches */
}

.sidebar-title {
  font-size: 1.35rem;
  font-weight: 700;
  letter-spacing: 0.6px;
  transform: translateZ(30px); /* pop au devant */
}

/* close button (nicely visible) */
.close-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.2rem;
  transform: translateZ(28px);
}
.custom-close-icon {
  width: 22px;
  height: 22px;
  display: block;
  filter: none;
}

/* ======================
   LINKS (pop-out & spacing)
   ====================== */
.sidebar-links {
  list-style: none;
  margin: 1.4rem 0 0 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  z-index: 2; /* devant pseudo-layers */
}

.sidebar-links li {
  padding: 0.35rem 0.35rem;
  border-radius: 10px;
  transition: transform 0.28s ease, box-shadow 0.28s ease, background 0.28s ease;
  transform-style: preserve-3d;
}

/* Link base style (light/dark inherit colors) */
.sidebar-links a {
  display: block;
  text-decoration: none;
  padding: 0.6rem 0.85rem;
  border-radius: 8px;
  font-weight: 600;
  color: inherit;
  transform: translateZ(22px); /* pop-out effect for text */
  transition: transform 0.28s cubic-bezier(.2,.9,.3,1), color 0.2s ease;
}

/* Hover effect: subtle 3D lift + inner shadow */
.sidebar-links li:hover {
  transform: translateX(6px) translateZ(14px) scale(1.01);
  box-shadow: 0 8px 18px rgba(0,0,0,0.12);
}

/* Active link: stronger pop + accent */
.sidebar-links a.active {
  color: var(--color-primary, #ff8c00);
  background: linear-gradient(90deg, rgba(255,140,0,0.08), rgba(255,140,0,0.03));
  box-shadow: inset 0 -6px 18px rgba(0,0,0,0.06);
  transform: translateZ(30px) scale(1.01);
}

/* ======================
   subtle inner separators for readability
   ====================== */
.sidebar .divider {
  height: 1px;
  width: 100%;
  margin: 1rem 0;
  background: linear-gradient(90deg, rgba(0,0,0,0.06), rgba(255,255,255,0.02));
  transform: translateZ(18px);
  border-radius: 2px;
}

/* ======================
   RESPONSIVE
   ====================== */
@media (max-width: 980px) {
  .sidebar { width: 220px; padding: 1rem; }
  .sidebar-title { font-size: 1.2rem; }
  .sidebar-links a { font-size: 1rem; padding: 0.55rem 0.7rem; }
}

@media (max-width: 600px) {
  /* transform to a full-screen drawer with depth preserved */
  .sidebar {
    width: 100%;
    height: 100vh;
    border-radius: 0;
    left: 0;
    top: 0;
  }

  .sidebar::before { transform: translateZ(-10px) scale(1.01); opacity: 0.95; }
  .sidebar::after  { transform: translateZ(6px); opacity: 0.6; }
  .sidebar-links { padding-top: 1.2rem; }
  .sidebar-links li { padding-left: 0.3rem; padding-right: 0.3rem; }
}

/* ======================
   Small touchups for accessibility
   ====================== */
.sidebar a:focus {
  outline: 3px solid rgba(255,140,0,0.14);
  outline-offset: 4px;
}
